{"ast":null,"code":"import React, { useCallback, useEffect, useRef, useState } from 'react';\nvar progressUpdateInterval = 500;\n\nvar UnMemoizedAudio = function (props) {\n  var og = props.og;\n\n  var _a = useState(false),\n      isPlaying = _a[0],\n      setIsPlaying = _a[1];\n\n  var _b = useState(0),\n      progress = _b[0],\n      setProgress = _b[1];\n\n  var audioRef = useRef(null);\n  var updateProgress = useCallback(function () {\n    if (audioRef.current !== null) {\n      var position = audioRef.current.currentTime;\n      var duration = audioRef.current.duration;\n      var currentProgress = 100 / duration * position;\n      setProgress(currentProgress);\n\n      if (position === duration) {\n        setIsPlaying(false);\n      }\n    }\n  }, [audioRef]);\n  useEffect(function () {\n    if (audioRef.current !== null) {\n      if (isPlaying) {\n        audioRef.current.play();\n        var interval_1 = setInterval(updateProgress, progressUpdateInterval);\n        return function () {\n          return clearInterval(interval_1);\n        };\n      }\n\n      audioRef.current.pause();\n    }\n\n    return;\n  }, [isPlaying, updateProgress]);\n  var asset_url = og.asset_url,\n      description = og.description,\n      image_url = og.image_url,\n      text = og.text,\n      title = og.title;\n  return React.createElement(\"div\", {\n    className: 'str-chat__audio'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__wrapper'\n  }, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: 'audio/mp3'\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__image'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__image--overlay'\n  }, !isPlaying ? React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'play-audio',\n    onClick: function () {\n      return setIsPlaying(true);\n    }\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z',\n    fillRule: 'nonzero'\n  }))) : React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'pause-audio',\n    onClick: function () {\n      return setIsPlaying(false);\n    }\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z',\n    fillRule: 'nonzero'\n  })))), image_url && React.createElement(\"img\", {\n    alt: \"\" + description,\n    src: image_url\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__content'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__audio__content--title'\n  }, React.createElement(\"strong\", null, title)), React.createElement(\"span\", {\n    className: 'str-chat__audio__content--subtitle'\n  }, text), React.createElement(\"div\", {\n    className: 'str-chat__audio__content--progress'\n  }, React.createElement(\"div\", {\n    \"data-testid\": 'audio-progress',\n    style: {\n      width: progress + \"%\"\n    }\n  })))));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\n\n\nexport var Audio = React.memo(UnMemoizedAudio);","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","progressUpdateInterval","UnMemoizedAudio","props","og","_a","isPlaying","setIsPlaying","_b","progress","setProgress","audioRef","updateProgress","current","position","currentTime","duration","currentProgress","play","interval_1","setInterval","clearInterval","pause","asset_url","description","image_url","text","title","createElement","className","ref","src","type","onClick","height","viewBox","width","xmlns","d","fillRule","alt","style","Audio","memo"],"sources":["/Users/cherrie/Desktop/messenger_ver_2/node_modules/stream-chat-react/dist/components/Attachment/Audio.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nvar progressUpdateInterval = 500;\nvar UnMemoizedAudio = function (props) {\n    var og = props.og;\n    var _a = useState(false), isPlaying = _a[0], setIsPlaying = _a[1];\n    var _b = useState(0), progress = _b[0], setProgress = _b[1];\n    var audioRef = useRef(null);\n    var updateProgress = useCallback(function () {\n        if (audioRef.current !== null) {\n            var position = audioRef.current.currentTime;\n            var duration = audioRef.current.duration;\n            var currentProgress = (100 / duration) * position;\n            setProgress(currentProgress);\n            if (position === duration) {\n                setIsPlaying(false);\n            }\n        }\n    }, [audioRef]);\n    useEffect(function () {\n        if (audioRef.current !== null) {\n            if (isPlaying) {\n                audioRef.current.play();\n                var interval_1 = setInterval(updateProgress, progressUpdateInterval);\n                return function () { return clearInterval(interval_1); };\n            }\n            audioRef.current.pause();\n        }\n        return;\n    }, [isPlaying, updateProgress]);\n    var asset_url = og.asset_url, description = og.description, image_url = og.image_url, text = og.text, title = og.title;\n    return (React.createElement(\"div\", { className: 'str-chat__audio' },\n        React.createElement(\"div\", { className: 'str-chat__audio__wrapper' },\n            React.createElement(\"audio\", { ref: audioRef },\n                React.createElement(\"source\", { \"data-testid\": 'audio-source', src: asset_url, type: 'audio/mp3' })),\n            React.createElement(\"div\", { className: 'str-chat__audio__image' },\n                React.createElement(\"div\", { className: 'str-chat__audio__image--overlay' }, !isPlaying ? (React.createElement(\"button\", { className: 'str-chat__audio__image--button', \"data-testid\": 'play-audio', onClick: function () { return setIsPlaying(true); } },\n                    React.createElement(\"svg\", { height: '40', viewBox: '0 0 64 64', width: '40', xmlns: 'http://www.w3.org/2000/svg' },\n                        React.createElement(\"path\", { d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z', fillRule: 'nonzero' })))) : (React.createElement(\"button\", { className: 'str-chat__audio__image--button', \"data-testid\": 'pause-audio', onClick: function () { return setIsPlaying(false); } },\n                    React.createElement(\"svg\", { height: '40', viewBox: '0 0 64 64', width: '40', xmlns: 'http://www.w3.org/2000/svg' },\n                        React.createElement(\"path\", { d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z', fillRule: 'nonzero' }))))),\n                image_url && React.createElement(\"img\", { alt: \"\" + description, src: image_url })),\n            React.createElement(\"div\", { className: 'str-chat__audio__content' },\n                React.createElement(\"span\", { className: 'str-chat__audio__content--title' },\n                    React.createElement(\"strong\", null, title)),\n                React.createElement(\"span\", { className: 'str-chat__audio__content--subtitle' }, text),\n                React.createElement(\"div\", { className: 'str-chat__audio__content--progress' },\n                    React.createElement(\"div\", { \"data-testid\": 'audio-progress', style: { width: progress + \"%\" } }))))));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\nexport var Audio = React.memo(UnMemoizedAudio);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}