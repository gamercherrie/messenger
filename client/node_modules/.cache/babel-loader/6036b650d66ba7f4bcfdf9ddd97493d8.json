{"ast":null,"code":"import { useMemo } from 'react';\nimport { getGroupStyles, insertIntro, processMessages } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useComponentContext } from '../../../context/ComponentContext';\nexport var useEnrichedMessages = function (args) {\n  var channel = args.channel,\n      disableDateSeparator = args.disableDateSeparator,\n      groupStyles = args.groupStyles,\n      headerPosition = args.headerPosition,\n      hideDeletedMessages = args.hideDeletedMessages,\n      hideNewMessageSeparator = args.hideNewMessageSeparator,\n      messages = args.messages,\n      noGroupByUser = args.noGroupByUser;\n  var client = useChatContext('useEnrichedMessages').client;\n  var HeaderComponent = useComponentContext('useEnrichedMessages').HeaderComponent;\n  var lastRead = useMemo(function () {\n    var _a;\n\n    return (_a = channel.lastRead) === null || _a === void 0 ? void 0 : _a.call(channel);\n  }, [channel]);\n  var enableDateSeparator = !disableDateSeparator;\n  var messagesWithDates = !enableDateSeparator && !hideDeletedMessages && hideNewMessageSeparator ? messages : processMessages({\n    enableDateSeparator: enableDateSeparator,\n    hideDeletedMessages: hideDeletedMessages,\n    hideNewMessageSeparator: hideNewMessageSeparator,\n    lastRead: lastRead,\n    messages: messages,\n    userId: client.userID || ''\n  });\n\n  if (HeaderComponent) {\n    messagesWithDates = insertIntro(messagesWithDates, headerPosition);\n  }\n\n  var groupStylesFn = groupStyles || getGroupStyles;\n  var messageGroupStyles = useMemo(function () {\n    return messagesWithDates.reduce(function (acc, message, i) {\n      var style = groupStylesFn(message, messagesWithDates[i - 1], messagesWithDates[i + 1], noGroupByUser);\n      if (style) acc[message.id] = style;\n      return acc;\n    }, {});\n  }, [messagesWithDates, noGroupByUser]);\n  return {\n    messageGroupStyles: messageGroupStyles,\n    messages: messagesWithDates\n  };\n};","map":{"version":3,"names":["useMemo","getGroupStyles","insertIntro","processMessages","useChatContext","useComponentContext","useEnrichedMessages","args","channel","disableDateSeparator","groupStyles","headerPosition","hideDeletedMessages","hideNewMessageSeparator","messages","noGroupByUser","client","HeaderComponent","lastRead","_a","call","enableDateSeparator","messagesWithDates","userId","userID","groupStylesFn","messageGroupStyles","reduce","acc","message","i","style","id"],"sources":["/Users/cherrie/Desktop/messenger_ver_2/node_modules/stream-chat-react/dist/components/MessageList/hooks/useEnrichedMessages.js"],"sourcesContent":["import { useMemo } from 'react';\nimport { getGroupStyles, insertIntro, processMessages } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useComponentContext } from '../../../context/ComponentContext';\nexport var useEnrichedMessages = function (args) {\n    var channel = args.channel, disableDateSeparator = args.disableDateSeparator, groupStyles = args.groupStyles, headerPosition = args.headerPosition, hideDeletedMessages = args.hideDeletedMessages, hideNewMessageSeparator = args.hideNewMessageSeparator, messages = args.messages, noGroupByUser = args.noGroupByUser;\n    var client = useChatContext('useEnrichedMessages').client;\n    var HeaderComponent = useComponentContext('useEnrichedMessages').HeaderComponent;\n    var lastRead = useMemo(function () { var _a; return (_a = channel.lastRead) === null || _a === void 0 ? void 0 : _a.call(channel); }, [channel]);\n    var enableDateSeparator = !disableDateSeparator;\n    var messagesWithDates = !enableDateSeparator && !hideDeletedMessages && hideNewMessageSeparator\n        ? messages\n        : processMessages({\n            enableDateSeparator: enableDateSeparator,\n            hideDeletedMessages: hideDeletedMessages,\n            hideNewMessageSeparator: hideNewMessageSeparator,\n            lastRead: lastRead,\n            messages: messages,\n            userId: client.userID || '',\n        });\n    if (HeaderComponent) {\n        messagesWithDates = insertIntro(messagesWithDates, headerPosition);\n    }\n    var groupStylesFn = groupStyles || getGroupStyles;\n    var messageGroupStyles = useMemo(function () {\n        return messagesWithDates.reduce(function (acc, message, i) {\n            var style = groupStylesFn(message, messagesWithDates[i - 1], messagesWithDates[i + 1], noGroupByUser);\n            if (style)\n                acc[message.id] = style;\n            return acc;\n        }, {});\n    }, [messagesWithDates, noGroupByUser]);\n    return { messageGroupStyles: messageGroupStyles, messages: messagesWithDates };\n};\n"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,eAAtC,QAA6D,UAA7D;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,SAASC,mBAAT,QAAoC,mCAApC;AACA,OAAO,IAAIC,mBAAmB,GAAG,UAAUC,IAAV,EAAgB;EAC7C,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;EAAA,IAA4BC,oBAAoB,GAAGF,IAAI,CAACE,oBAAxD;EAAA,IAA8EC,WAAW,GAAGH,IAAI,CAACG,WAAjG;EAAA,IAA8GC,cAAc,GAAGJ,IAAI,CAACI,cAApI;EAAA,IAAoJC,mBAAmB,GAAGL,IAAI,CAACK,mBAA/K;EAAA,IAAoMC,uBAAuB,GAAGN,IAAI,CAACM,uBAAnO;EAAA,IAA4PC,QAAQ,GAAGP,IAAI,CAACO,QAA5Q;EAAA,IAAsRC,aAAa,GAAGR,IAAI,CAACQ,aAA3S;EACA,IAAIC,MAAM,GAAGZ,cAAc,CAAC,qBAAD,CAAd,CAAsCY,MAAnD;EACA,IAAIC,eAAe,GAAGZ,mBAAmB,CAAC,qBAAD,CAAnB,CAA2CY,eAAjE;EACA,IAAIC,QAAQ,GAAGlB,OAAO,CAAC,YAAY;IAAE,IAAImB,EAAJ;;IAAQ,OAAO,CAACA,EAAE,GAAGX,OAAO,CAACU,QAAd,MAA4B,IAA5B,IAAoCC,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACC,IAAH,CAAQZ,OAAR,CAApE;EAAuF,CAA9G,EAAgH,CAACA,OAAD,CAAhH,CAAtB;EACA,IAAIa,mBAAmB,GAAG,CAACZ,oBAA3B;EACA,IAAIa,iBAAiB,GAAG,CAACD,mBAAD,IAAwB,CAACT,mBAAzB,IAAgDC,uBAAhD,GAClBC,QADkB,GAElBX,eAAe,CAAC;IACdkB,mBAAmB,EAAEA,mBADP;IAEdT,mBAAmB,EAAEA,mBAFP;IAGdC,uBAAuB,EAAEA,uBAHX;IAIdK,QAAQ,EAAEA,QAJI;IAKdJ,QAAQ,EAAEA,QALI;IAMdS,MAAM,EAAEP,MAAM,CAACQ,MAAP,IAAiB;EANX,CAAD,CAFrB;;EAUA,IAAIP,eAAJ,EAAqB;IACjBK,iBAAiB,GAAGpB,WAAW,CAACoB,iBAAD,EAAoBX,cAApB,CAA/B;EACH;;EACD,IAAIc,aAAa,GAAGf,WAAW,IAAIT,cAAnC;EACA,IAAIyB,kBAAkB,GAAG1B,OAAO,CAAC,YAAY;IACzC,OAAOsB,iBAAiB,CAACK,MAAlB,CAAyB,UAAUC,GAAV,EAAeC,OAAf,EAAwBC,CAAxB,EAA2B;MACvD,IAAIC,KAAK,GAAGN,aAAa,CAACI,OAAD,EAAUP,iBAAiB,CAACQ,CAAC,GAAG,CAAL,CAA3B,EAAoCR,iBAAiB,CAACQ,CAAC,GAAG,CAAL,CAArD,EAA8Df,aAA9D,CAAzB;MACA,IAAIgB,KAAJ,EACIH,GAAG,CAACC,OAAO,CAACG,EAAT,CAAH,GAAkBD,KAAlB;MACJ,OAAOH,GAAP;IACH,CALM,EAKJ,EALI,CAAP;EAMH,CAP+B,EAO7B,CAACN,iBAAD,EAAoBP,aAApB,CAP6B,CAAhC;EAQA,OAAO;IAAEW,kBAAkB,EAAEA,kBAAtB;IAA0CZ,QAAQ,EAAEQ;EAApD,CAAP;AACH,CA7BM"},"metadata":{},"sourceType":"module"}