{"ast":null,"code":"import { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useUserRole = function (message, onlySenderCanEdit, disableQuotedMessages) {\n  var _a, _b, _c;\n\n  var _d = useChannelStateContext('useUserRole'),\n      channel = _d.channel,\n      _e = _d.channelCapabilities,\n      channelCapabilities = _e === void 0 ? {} : _e,\n      channelConfig = _d.channelConfig;\n\n  var client = useChatContext('useUserRole').client;\n  /**\n   * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n   * `isAdmin` will be removed in future release. See `channelCapabilities`.\n   */\n\n  var isAdmin = ((_a = client.user) === null || _a === void 0 ? void 0 : _a.role) === 'admin' || channel.state.membership.role === 'admin';\n  /**\n   * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n   * `isOwner` will be removed in future release. See `channelCapabilities`.\n   */\n\n  var isOwner = channel.state.membership.role === 'owner';\n  /**\n   * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n   * `isModerator` will be removed in future release. See `channelCapabilities`.\n   */\n\n  var isModerator = ((_b = client.user) === null || _b === void 0 ? void 0 : _b.role) === 'channel_moderator' || channel.state.membership.role === 'channel_moderator' || channel.state.membership.role === 'moderator' || channel.state.membership.is_moderator === true || channel.state.membership.channel_role === 'channel_moderator';\n  var isMyMessage = client.userID === ((_c = message.user) === null || _c === void 0 ? void 0 : _c.id);\n  var canEdit = !onlySenderCanEdit && channelCapabilities['update-any-message'] || isMyMessage && channelCapabilities['update-own-message'];\n  var canDelete = channelCapabilities['delete-any-message'] || isMyMessage && channelCapabilities['delete-own-message'];\n  var canFlag = !isMyMessage;\n  var canMute = !isMyMessage && (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.mutes);\n  var canQuote = !disableQuotedMessages && channelCapabilities['quote-message'];\n  var canReact = (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.reactions) !== false && channelCapabilities['send-reaction'];\n  var canReply = (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.replies) !== false && channelCapabilities['send-reply'];\n  return {\n    canDelete: canDelete,\n    canEdit: canEdit,\n    canFlag: canFlag,\n    canMute: canMute,\n    canQuote: canQuote,\n    canReact: canReact,\n    canReply: canReply,\n    isAdmin: isAdmin,\n    isModerator: isModerator,\n    isMyMessage: isMyMessage,\n    isOwner: isOwner\n  };\n};","map":{"version":3,"names":["useChannelStateContext","useChatContext","useUserRole","message","onlySenderCanEdit","disableQuotedMessages","_a","_b","_c","_d","channel","_e","channelCapabilities","channelConfig","client","isAdmin","user","role","state","membership","isOwner","isModerator","is_moderator","channel_role","isMyMessage","userID","id","canEdit","canDelete","canFlag","canMute","mutes","canQuote","canReact","reactions","canReply","replies"],"sources":["/Users/cherrie/Desktop/messenger_ver_2/node_modules/stream-chat-react/dist/components/Message/hooks/useUserRole.js"],"sourcesContent":["import { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useUserRole = function (message, onlySenderCanEdit, disableQuotedMessages) {\n    var _a, _b, _c;\n    var _d = useChannelStateContext('useUserRole'), channel = _d.channel, _e = _d.channelCapabilities, channelCapabilities = _e === void 0 ? {} : _e, channelConfig = _d.channelConfig;\n    var client = useChatContext('useUserRole').client;\n    /**\n     * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n     * `isAdmin` will be removed in future release. See `channelCapabilities`.\n     */\n    var isAdmin = ((_a = client.user) === null || _a === void 0 ? void 0 : _a.role) === 'admin' || channel.state.membership.role === 'admin';\n    /**\n     * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n     * `isOwner` will be removed in future release. See `channelCapabilities`.\n     */\n    var isOwner = channel.state.membership.role === 'owner';\n    /**\n     * @deprecated as it relies on `membership.role` check which is already deprecated and shouldn't be used anymore.\n     * `isModerator` will be removed in future release. See `channelCapabilities`.\n     */\n    var isModerator = ((_b = client.user) === null || _b === void 0 ? void 0 : _b.role) === 'channel_moderator' ||\n        channel.state.membership.role === 'channel_moderator' ||\n        channel.state.membership.role === 'moderator' ||\n        channel.state.membership.is_moderator === true ||\n        channel.state.membership.channel_role === 'channel_moderator';\n    var isMyMessage = client.userID === ((_c = message.user) === null || _c === void 0 ? void 0 : _c.id);\n    var canEdit = (!onlySenderCanEdit && channelCapabilities['update-any-message']) ||\n        (isMyMessage && channelCapabilities['update-own-message']);\n    var canDelete = channelCapabilities['delete-any-message'] ||\n        (isMyMessage && channelCapabilities['delete-own-message']);\n    var canFlag = !isMyMessage;\n    var canMute = !isMyMessage && (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.mutes);\n    var canQuote = !disableQuotedMessages && channelCapabilities['quote-message'];\n    var canReact = (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.reactions) !== false && channelCapabilities['send-reaction'];\n    var canReply = (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.replies) !== false && channelCapabilities['send-reply'];\n    return {\n        canDelete: canDelete,\n        canEdit: canEdit,\n        canFlag: canFlag,\n        canMute: canMute,\n        canQuote: canQuote,\n        canReact: canReact,\n        canReply: canReply,\n        isAdmin: isAdmin,\n        isModerator: isModerator,\n        isMyMessage: isMyMessage,\n        isOwner: isOwner,\n    };\n};\n"],"mappings":"AAAA,SAASA,sBAAT,QAAuC,sCAAvC;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,OAAO,IAAIC,WAAW,GAAG,UAAUC,OAAV,EAAmBC,iBAAnB,EAAsCC,qBAAtC,EAA6D;EAClF,IAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ;;EACA,IAAIC,EAAE,GAAGT,sBAAsB,CAAC,aAAD,CAA/B;EAAA,IAAgDU,OAAO,GAAGD,EAAE,CAACC,OAA7D;EAAA,IAAsEC,EAAE,GAAGF,EAAE,CAACG,mBAA9E;EAAA,IAAmGA,mBAAmB,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9I;EAAA,IAAkJE,aAAa,GAAGJ,EAAE,CAACI,aAArK;;EACA,IAAIC,MAAM,GAAGb,cAAc,CAAC,aAAD,CAAd,CAA8Ba,MAA3C;EACA;AACJ;AACA;AACA;;EACI,IAAIC,OAAO,GAAG,CAAC,CAACT,EAAE,GAAGQ,MAAM,CAACE,IAAb,MAAuB,IAAvB,IAA+BV,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACW,IAA5D,MAAsE,OAAtE,IAAiFP,OAAO,CAACQ,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,OAAjI;EACA;AACJ;AACA;AACA;;EACI,IAAIG,OAAO,GAAGV,OAAO,CAACQ,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,OAAhD;EACA;AACJ;AACA;AACA;;EACI,IAAII,WAAW,GAAG,CAAC,CAACd,EAAE,GAAGO,MAAM,CAACE,IAAb,MAAuB,IAAvB,IAA+BT,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACU,IAA5D,MAAsE,mBAAtE,IACdP,OAAO,CAACQ,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,mBADpB,IAEdP,OAAO,CAACQ,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,WAFpB,IAGdP,OAAO,CAACQ,KAAR,CAAcC,UAAd,CAAyBG,YAAzB,KAA0C,IAH5B,IAIdZ,OAAO,CAACQ,KAAR,CAAcC,UAAd,CAAyBI,YAAzB,KAA0C,mBAJ9C;EAKA,IAAIC,WAAW,GAAGV,MAAM,CAACW,MAAP,MAAmB,CAACjB,EAAE,GAAGL,OAAO,CAACa,IAAd,MAAwB,IAAxB,IAAgCR,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACkB,EAA/E,CAAlB;EACA,IAAIC,OAAO,GAAI,CAACvB,iBAAD,IAAsBQ,mBAAmB,CAAC,oBAAD,CAA1C,IACTY,WAAW,IAAIZ,mBAAmB,CAAC,oBAAD,CADvC;EAEA,IAAIgB,SAAS,GAAGhB,mBAAmB,CAAC,oBAAD,CAAnB,IACXY,WAAW,IAAIZ,mBAAmB,CAAC,oBAAD,CADvC;EAEA,IAAIiB,OAAO,GAAG,CAACL,WAAf;EACA,IAAIM,OAAO,GAAG,CAACN,WAAD,KAAiBX,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACkB,KAA7F,CAAd;EACA,IAAIC,QAAQ,GAAG,CAAC3B,qBAAD,IAA0BO,mBAAmB,CAAC,eAAD,CAA5D;EACA,IAAIqB,QAAQ,GAAG,CAACpB,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACqB,SAA7E,MAA4F,KAA5F,IAAqGtB,mBAAmB,CAAC,eAAD,CAAvI;EACA,IAAIuB,QAAQ,GAAG,CAACtB,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACuB,OAA7E,MAA0F,KAA1F,IAAmGxB,mBAAmB,CAAC,YAAD,CAArI;EACA,OAAO;IACHgB,SAAS,EAAEA,SADR;IAEHD,OAAO,EAAEA,OAFN;IAGHE,OAAO,EAAEA,OAHN;IAIHC,OAAO,EAAEA,OAJN;IAKHE,QAAQ,EAAEA,QALP;IAMHC,QAAQ,EAAEA,QANP;IAOHE,QAAQ,EAAEA,QAPP;IAQHpB,OAAO,EAAEA,OARN;IASHM,WAAW,EAAEA,WATV;IAUHG,WAAW,EAAEA,WAVV;IAWHJ,OAAO,EAAEA;EAXN,CAAP;AAaH,CA9CM"},"metadata":{},"sourceType":"module"}