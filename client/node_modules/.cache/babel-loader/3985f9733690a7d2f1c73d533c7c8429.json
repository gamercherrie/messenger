{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getData = getData;\nexports.getEmojiDataFromNative = getEmojiDataFromNative;\nexports.getSanitizedData = getSanitizedData;\nexports.uniq = uniq;\nexports.intersect = intersect;\nexports.deepMerge = deepMerge;\nexports.unifiedToNative = unifiedToNative;\nexports.measureScrollbar = measureScrollbar;\nexports.throttleIdleTask = throttleIdleTask;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _data = require(\"./data\");\n\nvar _stringFromCodePoint = _interopRequireDefault(require(\"../polyfills/stringFromCodePoint\"));\n\nvar COLONS_REGEX = /^(?:\\:([^\\:]+)\\:)(?:\\:skin-tone-(\\d)\\:)?$/;\nvar SKINS = ['1F3FA', '1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n\nfunction unifiedToNative(unified) {\n  var unicodes = unified.split('-'),\n      codePoints = unicodes.map(function (u) {\n    return \"0x\".concat(u);\n  });\n  return _stringFromCodePoint[\"default\"].apply(null, codePoints);\n}\n\nfunction sanitize(emoji) {\n  var name = emoji.name,\n      short_names = emoji.short_names,\n      skin_tone = emoji.skin_tone,\n      skin_variations = emoji.skin_variations,\n      emoticons = emoji.emoticons,\n      unified = emoji.unified,\n      custom = emoji.custom,\n      customCategory = emoji.customCategory,\n      imageUrl = emoji.imageUrl,\n      id = emoji.id || short_names[0],\n      colons = \":\".concat(id, \":\");\n\n  if (custom) {\n    return {\n      id: id,\n      name: name,\n      short_names: short_names,\n      colons: colons,\n      emoticons: emoticons,\n      custom: custom,\n      customCategory: customCategory,\n      imageUrl: imageUrl\n    };\n  }\n\n  if (skin_tone) {\n    colons += \":skin-tone-\".concat(skin_tone, \":\");\n  }\n\n  return {\n    id: id,\n    name: name,\n    short_names: short_names,\n    colons: colons,\n    emoticons: emoticons,\n    unified: unified.toLowerCase(),\n    skin: skin_tone || (skin_variations ? 1 : null),\n    \"native\": unifiedToNative(unified)\n  };\n}\n\nfunction getSanitizedData() {\n  return sanitize(getData.apply(void 0, arguments));\n}\n\nfunction getData(emoji, skin, set, data) {\n  var emojiData = {};\n\n  if (typeof emoji == 'string') {\n    var matches = emoji.match(COLONS_REGEX);\n\n    if (matches) {\n      emoji = matches[1];\n\n      if (matches[2]) {\n        skin = parseInt(matches[2], 10);\n      }\n    }\n\n    if (data.aliases.hasOwnProperty(emoji)) {\n      emoji = data.aliases[emoji];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji)) {\n      emojiData = data.emojis[emoji];\n    } else {\n      return null;\n    }\n  } else if (emoji.id) {\n    if (data.aliases.hasOwnProperty(emoji.id)) {\n      emoji.id = data.aliases[emoji.id];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji.id)) {\n      emojiData = data.emojis[emoji.id];\n      skin || (skin = emoji.skin);\n    }\n  }\n\n  if (!Object.keys(emojiData).length) {\n    emojiData = emoji;\n    emojiData.custom = true;\n\n    if (!emojiData.search) {\n      emojiData.search = (0, _data.buildSearch)(emoji);\n    }\n  }\n\n  emojiData.emoticons || (emojiData.emoticons = []);\n  emojiData.variations || (emojiData.variations = []);\n\n  if (emojiData.skin_variations && skin > 1) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    var skinKey = SKINS[skin - 1],\n        variationData = emojiData.skin_variations[skinKey];\n\n    if (variationData) {\n      if (!variationData.variations && emojiData.variations) {\n        delete emojiData.variations;\n      }\n\n      if (set && (variationData[\"has_img_\".concat(set)] == undefined || variationData[\"has_img_\".concat(set)]) || !set) {\n        emojiData.skin_tone = skin;\n\n        for (var k in variationData) {\n          var v = variationData[k];\n          emojiData[k] = v;\n        }\n      }\n    }\n  }\n\n  if (emojiData.variations && emojiData.variations.length) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    emojiData.unified = emojiData.variations.shift();\n  }\n\n  return emojiData;\n}\n\nfunction getEmojiDataFromNative(nativeString, set, data) {\n  if (data.compressed) {\n    (0, _data.uncompress)(data);\n  }\n\n  var skinTones = ['🏻', '🏼', '🏽', '🏾', '🏿'];\n  var skinCodes = ['1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n  var skin;\n  var skinCode;\n  var baseNativeString = nativeString;\n  skinTones.forEach(function (skinTone, skinToneIndex) {\n    if (nativeString.indexOf(skinTone) > 0) {\n      skin = skinToneIndex + 2;\n      skinCode = skinCodes[skinToneIndex];\n    }\n  });\n  var emojiData;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n    var emojiUnified = emoji.unified;\n\n    if (emoji.variations && emoji.variations.length) {\n      emojiUnified = emoji.variations.shift();\n    }\n\n    if (skin && emoji.skin_variations && emoji.skin_variations[skinCode]) {\n      emojiUnified = emoji.skin_variations[skinCode].unified;\n    }\n\n    if (unifiedToNative(emojiUnified) === baseNativeString) emojiData = emoji;\n  }\n\n  if (!emojiData) {\n    return null;\n  }\n\n  emojiData.id = emojiData.short_names[0];\n  return getSanitizedData(emojiData, skin, set, data);\n}\n\nfunction uniq(arr) {\n  return arr.reduce(function (acc, item) {\n    if (acc.indexOf(item) === -1) {\n      acc.push(item);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction intersect(a, b) {\n  var uniqA = uniq(a);\n  var uniqB = uniq(b);\n  return uniqA.filter(function (item) {\n    return uniqB.indexOf(item) >= 0;\n  });\n}\n\nfunction deepMerge(a, b) {\n  var o = {};\n\n  for (var key in a) {\n    var originalValue = a[key],\n        value = originalValue;\n\n    if (b.hasOwnProperty(key)) {\n      value = b[key];\n    }\n\n    if ((0, _typeof2[\"default\"])(value) === 'object') {\n      value = deepMerge(originalValue, value);\n    }\n\n    o[key] = value;\n  }\n\n  return o;\n} // https://github.com/sonicdoe/measure-scrollbar\n\n\nfunction measureScrollbar() {\n  if (typeof document == 'undefined') return 0;\n  var div = document.createElement('div');\n  div.style.width = '100px';\n  div.style.height = '100px';\n  div.style.overflow = 'scroll';\n  div.style.position = 'absolute';\n  div.style.top = '-9999px';\n  document.body.appendChild(div);\n  var scrollbarWidth = div.offsetWidth - div.clientWidth;\n  document.body.removeChild(div);\n  return scrollbarWidth;\n} // Use requestIdleCallback() if available, else fall back to setTimeout().\n// Throttle so as not to run too frequently.\n\n\nfunction throttleIdleTask(func) {\n  var doIdleTask = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n  var running = false;\n  return function throttled() {\n    if (running) {\n      return;\n    }\n\n    running = true;\n    doIdleTask(function () {\n      running = false;\n      func();\n    });\n  };\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","getData","getEmojiDataFromNative","getSanitizedData","uniq","intersect","deepMerge","unifiedToNative","measureScrollbar","throttleIdleTask","_typeof2","_data","_stringFromCodePoint","COLONS_REGEX","SKINS","unified","unicodes","split","codePoints","map","u","concat","apply","sanitize","emoji","name","short_names","skin_tone","skin_variations","emoticons","custom","customCategory","imageUrl","id","colons","toLowerCase","skin","arguments","set","data","emojiData","matches","match","parseInt","aliases","hasOwnProperty","emojis","keys","length","search","buildSearch","variations","JSON","parse","stringify","skinKey","variationData","undefined","k","v","shift","nativeString","compressed","uncompress","skinTones","skinCodes","skinCode","baseNativeString","forEach","skinTone","skinToneIndex","indexOf","emojiUnified","arr","reduce","acc","item","push","a","b","uniqA","uniqB","filter","o","key","originalValue","document","div","createElement","style","width","height","overflow","position","top","body","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","func","doIdleTask","requestIdleCallback","setTimeout","running","throttled"],"sources":["/Users/cherrie/Desktop/messenger_ver_2/node_modules/stream-chat-react/node_modules/emoji-mart/dist/utils/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getData = getData;\nexports.getEmojiDataFromNative = getEmojiDataFromNative;\nexports.getSanitizedData = getSanitizedData;\nexports.uniq = uniq;\nexports.intersect = intersect;\nexports.deepMerge = deepMerge;\nexports.unifiedToNative = unifiedToNative;\nexports.measureScrollbar = measureScrollbar;\nexports.throttleIdleTask = throttleIdleTask;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _data = require(\"./data\");\n\nvar _stringFromCodePoint = _interopRequireDefault(require(\"../polyfills/stringFromCodePoint\"));\n\nvar COLONS_REGEX = /^(?:\\:([^\\:]+)\\:)(?:\\:skin-tone-(\\d)\\:)?$/;\nvar SKINS = ['1F3FA', '1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n\nfunction unifiedToNative(unified) {\n  var unicodes = unified.split('-'),\n      codePoints = unicodes.map(function (u) {\n    return \"0x\".concat(u);\n  });\n  return _stringFromCodePoint[\"default\"].apply(null, codePoints);\n}\n\nfunction sanitize(emoji) {\n  var name = emoji.name,\n      short_names = emoji.short_names,\n      skin_tone = emoji.skin_tone,\n      skin_variations = emoji.skin_variations,\n      emoticons = emoji.emoticons,\n      unified = emoji.unified,\n      custom = emoji.custom,\n      customCategory = emoji.customCategory,\n      imageUrl = emoji.imageUrl,\n      id = emoji.id || short_names[0],\n      colons = \":\".concat(id, \":\");\n\n  if (custom) {\n    return {\n      id: id,\n      name: name,\n      short_names: short_names,\n      colons: colons,\n      emoticons: emoticons,\n      custom: custom,\n      customCategory: customCategory,\n      imageUrl: imageUrl\n    };\n  }\n\n  if (skin_tone) {\n    colons += \":skin-tone-\".concat(skin_tone, \":\");\n  }\n\n  return {\n    id: id,\n    name: name,\n    short_names: short_names,\n    colons: colons,\n    emoticons: emoticons,\n    unified: unified.toLowerCase(),\n    skin: skin_tone || (skin_variations ? 1 : null),\n    \"native\": unifiedToNative(unified)\n  };\n}\n\nfunction getSanitizedData() {\n  return sanitize(getData.apply(void 0, arguments));\n}\n\nfunction getData(emoji, skin, set, data) {\n  var emojiData = {};\n\n  if (typeof emoji == 'string') {\n    var matches = emoji.match(COLONS_REGEX);\n\n    if (matches) {\n      emoji = matches[1];\n\n      if (matches[2]) {\n        skin = parseInt(matches[2], 10);\n      }\n    }\n\n    if (data.aliases.hasOwnProperty(emoji)) {\n      emoji = data.aliases[emoji];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji)) {\n      emojiData = data.emojis[emoji];\n    } else {\n      return null;\n    }\n  } else if (emoji.id) {\n    if (data.aliases.hasOwnProperty(emoji.id)) {\n      emoji.id = data.aliases[emoji.id];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji.id)) {\n      emojiData = data.emojis[emoji.id];\n      skin || (skin = emoji.skin);\n    }\n  }\n\n  if (!Object.keys(emojiData).length) {\n    emojiData = emoji;\n    emojiData.custom = true;\n\n    if (!emojiData.search) {\n      emojiData.search = (0, _data.buildSearch)(emoji);\n    }\n  }\n\n  emojiData.emoticons || (emojiData.emoticons = []);\n  emojiData.variations || (emojiData.variations = []);\n\n  if (emojiData.skin_variations && skin > 1) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    var skinKey = SKINS[skin - 1],\n        variationData = emojiData.skin_variations[skinKey];\n\n    if (variationData) {\n      if (!variationData.variations && emojiData.variations) {\n        delete emojiData.variations;\n      }\n\n      if (set && (variationData[\"has_img_\".concat(set)] == undefined || variationData[\"has_img_\".concat(set)]) || !set) {\n        emojiData.skin_tone = skin;\n\n        for (var k in variationData) {\n          var v = variationData[k];\n          emojiData[k] = v;\n        }\n      }\n    }\n  }\n\n  if (emojiData.variations && emojiData.variations.length) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    emojiData.unified = emojiData.variations.shift();\n  }\n\n  return emojiData;\n}\n\nfunction getEmojiDataFromNative(nativeString, set, data) {\n  if (data.compressed) {\n    (0, _data.uncompress)(data);\n  }\n\n  var skinTones = ['🏻', '🏼', '🏽', '🏾', '🏿'];\n  var skinCodes = ['1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n  var skin;\n  var skinCode;\n  var baseNativeString = nativeString;\n  skinTones.forEach(function (skinTone, skinToneIndex) {\n    if (nativeString.indexOf(skinTone) > 0) {\n      skin = skinToneIndex + 2;\n      skinCode = skinCodes[skinToneIndex];\n    }\n  });\n  var emojiData;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n    var emojiUnified = emoji.unified;\n\n    if (emoji.variations && emoji.variations.length) {\n      emojiUnified = emoji.variations.shift();\n    }\n\n    if (skin && emoji.skin_variations && emoji.skin_variations[skinCode]) {\n      emojiUnified = emoji.skin_variations[skinCode].unified;\n    }\n\n    if (unifiedToNative(emojiUnified) === baseNativeString) emojiData = emoji;\n  }\n\n  if (!emojiData) {\n    return null;\n  }\n\n  emojiData.id = emojiData.short_names[0];\n  return getSanitizedData(emojiData, skin, set, data);\n}\n\nfunction uniq(arr) {\n  return arr.reduce(function (acc, item) {\n    if (acc.indexOf(item) === -1) {\n      acc.push(item);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction intersect(a, b) {\n  var uniqA = uniq(a);\n  var uniqB = uniq(b);\n  return uniqA.filter(function (item) {\n    return uniqB.indexOf(item) >= 0;\n  });\n}\n\nfunction deepMerge(a, b) {\n  var o = {};\n\n  for (var key in a) {\n    var originalValue = a[key],\n        value = originalValue;\n\n    if (b.hasOwnProperty(key)) {\n      value = b[key];\n    }\n\n    if ((0, _typeof2[\"default\"])(value) === 'object') {\n      value = deepMerge(originalValue, value);\n    }\n\n    o[key] = value;\n  }\n\n  return o;\n} // https://github.com/sonicdoe/measure-scrollbar\n\n\nfunction measureScrollbar() {\n  if (typeof document == 'undefined') return 0;\n  var div = document.createElement('div');\n  div.style.width = '100px';\n  div.style.height = '100px';\n  div.style.overflow = 'scroll';\n  div.style.position = 'absolute';\n  div.style.top = '-9999px';\n  document.body.appendChild(div);\n  var scrollbarWidth = div.offsetWidth - div.clientWidth;\n  document.body.removeChild(div);\n  return scrollbarWidth;\n} // Use requestIdleCallback() if available, else fall back to setTimeout().\n// Throttle so as not to run too frequently.\n\n\nfunction throttleIdleTask(func) {\n  var doIdleTask = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n  var running = false;\n  return function throttled() {\n    if (running) {\n      return;\n    }\n\n    running = true;\n    doIdleTask(function () {\n      running = false;\n      func();\n    });\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}