{"ast":null,"code":"import React, { useMemo, useState } from 'react';\nimport { ModalComponent as ModalWrapper } from './ModalWrapper';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar UnMemoizedGallery = function (props) {\n  var images = props.images;\n\n  var _a = useState(0),\n      index = _a[0],\n      setIndex = _a[1];\n\n  var _b = useState(false),\n      modalOpen = _b[0],\n      setModalOpen = _b[1];\n\n  var t = useTranslationContext('Gallery').t;\n  var countImagesDisplayedInPreview = 4;\n  var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n\n  var toggleModal = function (selectedIndex) {\n    if (modalOpen) {\n      setModalOpen(false);\n    } else {\n      setIndex(selectedIndex);\n      setModalOpen(true);\n    }\n  };\n\n  var formattedArray = useMemo(function () {\n    return images.map(function (image) {\n      return {\n        original: image.image_url || image.thumb_url || '',\n        originalAlt: 'User uploaded content',\n        source: image.image_url || image.thumb_url || ''\n      };\n    });\n  }, [images]);\n  var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n    return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? React.createElement(\"button\", {\n      className: 'str-chat__gallery-placeholder',\n      key: \"gallery-image-\" + i,\n      onClick: function () {\n        return toggleModal(i);\n      },\n      style: {\n        backgroundImage: \"url(\" + images[lastImageIndexInPreview].image_url + \")\"\n      }\n    }, React.createElement(\"p\", null, t('{{ imageCount }} more', {\n      imageCount: images.length - countImagesDisplayedInPreview\n    }))) : React.createElement(\"button\", {\n      className: 'str-chat__gallery-image',\n      \"data-testid\": 'gallery-image',\n      key: \"gallery-image-\" + i,\n      onClick: function () {\n        return toggleModal(i);\n      }\n    }, React.createElement(\"img\", {\n      alt: 'User uploaded content',\n      src: image.image_url || image.thumb_url\n    }));\n  });\n  return React.createElement(\"div\", {\n    className: \"str-chat__gallery \" + (images.length > lastImageIndexInPreview ? 'str-chat__gallery--square' : '')\n  }, renderImages, React.createElement(ModalWrapper, {\n    images: formattedArray,\n    index: index,\n    modalIsOpen: modalOpen,\n    toggleModal: function () {\n      return setModalOpen(!modalOpen);\n    }\n  }));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\n\n\nexport var Gallery = React.memo(UnMemoizedGallery);","map":{"version":3,"names":["React","useMemo","useState","ModalComponent","ModalWrapper","useTranslationContext","UnMemoizedGallery","props","images","_a","index","setIndex","_b","modalOpen","setModalOpen","t","countImagesDisplayedInPreview","lastImageIndexInPreview","toggleModal","selectedIndex","formattedArray","map","image","original","image_url","thumb_url","originalAlt","source","renderImages","slice","i","length","createElement","className","key","onClick","style","backgroundImage","imageCount","alt","src","modalIsOpen","Gallery","memo"],"sources":["/Users/cherrie/Desktop/messenger_ver_2/client/node_modules/stream-chat-react/dist/components/Gallery/Gallery.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\nimport { ModalComponent as ModalWrapper } from './ModalWrapper';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n    var images = props.images;\n    var _a = useState(0), index = _a[0], setIndex = _a[1];\n    var _b = useState(false), modalOpen = _b[0], setModalOpen = _b[1];\n    var t = useTranslationContext('Gallery').t;\n    var countImagesDisplayedInPreview = 4;\n    var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n    var toggleModal = function (selectedIndex) {\n        if (modalOpen) {\n            setModalOpen(false);\n        }\n        else {\n            setIndex(selectedIndex);\n            setModalOpen(true);\n        }\n    };\n    var formattedArray = useMemo(function () {\n        return images.map(function (image) { return ({\n            original: image.image_url || image.thumb_url || '',\n            originalAlt: 'User uploaded content',\n            source: image.image_url || image.thumb_url || '',\n        }); });\n    }, [images]);\n    var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n        return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? (React.createElement(\"button\", { className: 'str-chat__gallery-placeholder', key: \"gallery-image-\" + i, onClick: function () { return toggleModal(i); }, style: {\n                backgroundImage: \"url(\" + images[lastImageIndexInPreview].image_url + \")\",\n            } },\n            React.createElement(\"p\", null, t('{{ imageCount }} more', {\n                imageCount: images.length - countImagesDisplayedInPreview,\n            })))) : (React.createElement(\"button\", { className: 'str-chat__gallery-image', \"data-testid\": 'gallery-image', key: \"gallery-image-\" + i, onClick: function () { return toggleModal(i); } },\n            React.createElement(\"img\", { alt: 'User uploaded content', src: image.image_url || image.thumb_url })));\n    });\n    return (React.createElement(\"div\", { className: \"str-chat__gallery \" + (images.length > lastImageIndexInPreview ? 'str-chat__gallery--square' : '') },\n        renderImages,\n        React.createElement(ModalWrapper, { images: formattedArray, index: index, modalIsOpen: modalOpen, toggleModal: function () { return setModalOpen(!modalOpen); } })));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}