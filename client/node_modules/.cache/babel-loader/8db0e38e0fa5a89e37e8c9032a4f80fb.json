{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _ = require(\"..\");\n\nvar _data = require(\"../data\");\n\nvar _store = _interopRequireDefault(require(\"../store\"));\n\nvar NimbleEmojiIndex = /*#__PURE__*/function () {\n  function NimbleEmojiIndex(data, set) {\n    (0, _classCallCheck2[\"default\"])(this, NimbleEmojiIndex);\n\n    if (data.compressed) {\n      (0, _data.uncompress)(data);\n    }\n\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n    this.buildIndex();\n  }\n\n  (0, _createClass2[\"default\"])(NimbleEmojiIndex, [{\n    key: \"buildIndex\",\n    value: function buildIndex() {\n      var _this = this;\n\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji],\n            short_names = emojiData.short_names,\n            emoticons = emojiData.emoticons,\n            skin_variations = emojiData.skin_variations,\n            id = short_names[0];\n\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n\n            _this.emoticons[emoticon] = id;\n          });\n        } // If skin variations include them\n\n\n        if (skin_variations) {\n          _this.emojis[id] = {};\n\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = (0, _.getSanitizedData)({\n              id: id,\n              skin: skinTone\n            }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = (0, _.getSanitizedData)(id, null, _this.set, _this.data);\n        }\n\n        _this.originalPool[id] = emojiData;\n      };\n\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: \"clearCustomEmojis\",\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: \"addCustomToPool\",\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = (0, _.getData)(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = (0, _.getSanitizedData)(emoji, null, null, _this3.data);\n        }\n      });\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      var _this4 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          emojisToShowFilter = _ref.emojisToShowFilter,\n          maxResults = _ref.maxResults,\n          include = _ref.include,\n          exclude = _ref.exclude,\n          _ref$custom = _ref.custom,\n          custom = _ref$custom === void 0 ? [] : _ref$custom;\n\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n      var skinTone = _store[\"default\"].get('skin') || 1;\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n      var results = null,\n          pool = this.originalPool;\n\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n            allResults = [];\n\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n\n        if (include.length || exclude.length) {\n          pool = {};\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n\n        allResults = values.map(function (value) {\n          var aPool = pool,\n              aIndex = _this4.index,\n              length = 0;\n\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var _char = value[charIndex];\n            length++;\n            aIndex[_char] || (aIndex[_char] = {});\n            aIndex = aIndex[_char];\n\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n                aIndex.results = [];\n                aIndex.pool = {};\n\n                for (var id in aPool) {\n                  var emoji = aPool[id],\n                      search = emoji.search,\n                      sub = value.substr(0, length),\n                      subIndex = search.indexOf(sub);\n\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == id) score = 0;\n\n                    if (_this4.emojis[id] && _this4.emojis[id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[id]);\n                    }\n\n                    aIndex.pool[id] = emoji;\n                    scores[id] = score;\n                  }\n                }\n\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                      bScore = scores[b.id];\n\n                  if (aScore == bScore) {\n                    return a.id.localeCompare(b.id);\n                  } else {\n                    return aScore - bScore;\n                  }\n                });\n              })();\n            }\n\n            aPool = aIndex.pool;\n          }\n\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n\n        if (allResults.length > 1) {\n          results = _.intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n\n      return results;\n    }\n  }]);\n  return NimbleEmojiIndex;\n}();\n\nexports[\"default\"] = NimbleEmojiIndex;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","_","_data","_store","NimbleEmojiIndex","data","set","compressed","uncompress","originalPool","index","emojis","emoticons","customEmojisList","buildIndex","key","_this","_loop","emoji","emojiData","short_names","skin_variations","id","forEach","emoticon","skinTone","getSanitizedData","skin","clearCustomEmojis","pool","_this2","emojiId","addCustomToPool","custom","_this3","length","getData","search","_this4","_ref","arguments","undefined","emojisToShowFilter","maxResults","include","exclude","_ref$custom","get","results","values","toLowerCase","split","allResults","categories","category","isIncluded","indexOf","isExcluded","customIsIncluded","customIsExcluded","map","aPool","aIndex","charIndex","_char","scores","sub","substr","subIndex","score","push","sort","a","b","aScore","bScore","localeCompare","filter","intersect","apply","result","slice"],"sources":["/Users/cherrie/Desktop/messenger_ver_2/client/node_modules/stream-chat-react/node_modules/emoji-mart/dist/utils/emoji-index/nimble-emoji-index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _ = require(\"..\");\n\nvar _data = require(\"../data\");\n\nvar _store = _interopRequireDefault(require(\"../store\"));\n\nvar NimbleEmojiIndex =\n/*#__PURE__*/\nfunction () {\n  function NimbleEmojiIndex(data, set) {\n    (0, _classCallCheck2[\"default\"])(this, NimbleEmojiIndex);\n\n    if (data.compressed) {\n      (0, _data.uncompress)(data);\n    }\n\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n    this.buildIndex();\n  }\n\n  (0, _createClass2[\"default\"])(NimbleEmojiIndex, [{\n    key: \"buildIndex\",\n    value: function buildIndex() {\n      var _this = this;\n\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji],\n            short_names = emojiData.short_names,\n            emoticons = emojiData.emoticons,\n            skin_variations = emojiData.skin_variations,\n            id = short_names[0];\n\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n\n            _this.emoticons[emoticon] = id;\n          });\n        } // If skin variations include them\n\n\n        if (skin_variations) {\n          _this.emojis[id] = {};\n\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = (0, _.getSanitizedData)({\n              id: id,\n              skin: skinTone\n            }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = (0, _.getSanitizedData)(id, null, _this.set, _this.data);\n        }\n\n        _this.originalPool[id] = emojiData;\n      };\n\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: \"clearCustomEmojis\",\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: \"addCustomToPool\",\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = (0, _.getData)(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = (0, _.getSanitizedData)(emoji, null, null, _this3.data);\n        }\n      });\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      var _this4 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          emojisToShowFilter = _ref.emojisToShowFilter,\n          maxResults = _ref.maxResults,\n          include = _ref.include,\n          exclude = _ref.exclude,\n          _ref$custom = _ref.custom,\n          custom = _ref$custom === void 0 ? [] : _ref$custom;\n\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n      var skinTone = _store[\"default\"].get('skin') || 1;\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n      var results = null,\n          pool = this.originalPool;\n\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n            allResults = [];\n\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n\n        if (include.length || exclude.length) {\n          pool = {};\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n\n        allResults = values.map(function (value) {\n          var aPool = pool,\n              aIndex = _this4.index,\n              length = 0;\n\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var _char = value[charIndex];\n            length++;\n            aIndex[_char] || (aIndex[_char] = {});\n            aIndex = aIndex[_char];\n\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n                aIndex.results = [];\n                aIndex.pool = {};\n\n                for (var id in aPool) {\n                  var emoji = aPool[id],\n                      search = emoji.search,\n                      sub = value.substr(0, length),\n                      subIndex = search.indexOf(sub);\n\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == id) score = 0;\n\n                    if (_this4.emojis[id] && _this4.emojis[id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[id]);\n                    }\n\n                    aIndex.pool[id] = emoji;\n                    scores[id] = score;\n                  }\n                }\n\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                      bScore = scores[b.id];\n\n                  if (aScore == bScore) {\n                    return a.id.localeCompare(b.id);\n                  } else {\n                    return aScore - bScore;\n                  }\n                });\n              })();\n            }\n\n            aPool = aIndex.pool;\n          }\n\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n\n        if (allResults.length > 1) {\n          results = _.intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n\n      return results;\n    }\n  }]);\n  return NimbleEmojiIndex;\n}();\n\nexports[\"default\"] = NimbleEmojiIndex;"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,gBAAgB,GAAGN,sBAAsB,CAACC,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIM,aAAa,GAAGP,sBAAsB,CAACC,OAAO,CAAC,oCAAD,CAAR,CAA1C;;AAEA,IAAIO,CAAC,GAAGP,OAAO,CAAC,IAAD,CAAf;;AAEA,IAAIQ,KAAK,GAAGR,OAAO,CAAC,SAAD,CAAnB;;AAEA,IAAIS,MAAM,GAAGV,sBAAsB,CAACC,OAAO,CAAC,UAAD,CAAR,CAAnC;;AAEA,IAAIU,gBAAgB,GACpB,aACA,YAAY;EACV,SAASA,gBAAT,CAA0BC,IAA1B,EAAgCC,GAAhC,EAAqC;IACnC,CAAC,GAAGP,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuCK,gBAAvC;;IAEA,IAAIC,IAAI,CAACE,UAAT,EAAqB;MACnB,CAAC,GAAGL,KAAK,CAACM,UAAV,EAAsBH,IAAtB;IACD;;IAED,KAAKA,IAAL,GAAYA,IAAI,IAAI,EAApB;IACA,KAAKC,GAAL,GAAWA,GAAG,IAAI,IAAlB;IACA,KAAKG,YAAL,GAAoB,EAApB;IACA,KAAKC,KAAL,GAAa,EAAb;IACA,KAAKC,MAAL,GAAc,EAAd;IACA,KAAKC,SAAL,GAAiB,EAAjB;IACA,KAAKC,gBAAL,GAAwB,EAAxB;IACA,KAAKC,UAAL;EACD;;EAED,CAAC,GAAGd,aAAa,CAAC,SAAD,CAAjB,EAA8BI,gBAA9B,EAAgD,CAAC;IAC/CW,GAAG,EAAE,YAD0C;IAE/CjB,KAAK,EAAE,SAASgB,UAAT,GAAsB;MAC3B,IAAIE,KAAK,GAAG,IAAZ;;MAEA,IAAIC,KAAK,GAAG,SAASA,KAAT,CAAeC,KAAf,EAAsB;QAChC,IAAIC,SAAS,GAAGH,KAAK,CAACX,IAAN,CAAWM,MAAX,CAAkBO,KAAlB,CAAhB;QAAA,IACIE,WAAW,GAAGD,SAAS,CAACC,WAD5B;QAAA,IAEIR,SAAS,GAAGO,SAAS,CAACP,SAF1B;QAAA,IAGIS,eAAe,GAAGF,SAAS,CAACE,eAHhC;QAAA,IAIIC,EAAE,GAAGF,WAAW,CAAC,CAAD,CAJpB;;QAMA,IAAIR,SAAJ,EAAe;UACbA,SAAS,CAACW,OAAV,CAAkB,UAAUC,QAAV,EAAoB;YACpC,IAAIR,KAAK,CAACJ,SAAN,CAAgBY,QAAhB,CAAJ,EAA+B;cAC7B;YACD;;YAEDR,KAAK,CAACJ,SAAN,CAAgBY,QAAhB,IAA4BF,EAA5B;UACD,CAND;QAOD,CAf+B,CAe9B;;;QAGF,IAAID,eAAJ,EAAqB;UACnBL,KAAK,CAACL,MAAN,CAAaW,EAAb,IAAmB,EAAnB;;UAEA,KAAK,IAAIG,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,IAAI,CAAnC,EAAsCA,QAAQ,EAA9C,EAAkD;YAChDT,KAAK,CAACL,MAAN,CAAaW,EAAb,EAAiBG,QAAjB,IAA6B,CAAC,GAAGxB,CAAC,CAACyB,gBAAN,EAAwB;cACnDJ,EAAE,EAAEA,EAD+C;cAEnDK,IAAI,EAAEF;YAF6C,CAAxB,EAG1BA,QAH0B,EAGhBT,KAAK,CAACV,GAHU,EAGLU,KAAK,CAACX,IAHD,CAA7B;UAID;QACF,CATD,MASO;UACLW,KAAK,CAACL,MAAN,CAAaW,EAAb,IAAmB,CAAC,GAAGrB,CAAC,CAACyB,gBAAN,EAAwBJ,EAAxB,EAA4B,IAA5B,EAAkCN,KAAK,CAACV,GAAxC,EAA6CU,KAAK,CAACX,IAAnD,CAAnB;QACD;;QAEDW,KAAK,CAACP,YAAN,CAAmBa,EAAnB,IAAyBH,SAAzB;MACD,CAhCD;;MAkCA,KAAK,IAAID,KAAT,IAAkB,KAAKb,IAAL,CAAUM,MAA5B,EAAoC;QAClCM,KAAK,CAACC,KAAD,CAAL;MACD;IACF;EA1C8C,CAAD,EA2C7C;IACDH,GAAG,EAAE,mBADJ;IAEDjB,KAAK,EAAE,SAAS8B,iBAAT,CAA2BC,IAA3B,EAAiC;MACtC,IAAIC,MAAM,GAAG,IAAb;;MAEA,KAAKjB,gBAAL,CAAsBU,OAAtB,CAA8B,UAAUL,KAAV,EAAiB;QAC7C,IAAIa,OAAO,GAAGb,KAAK,CAACI,EAAN,IAAYJ,KAAK,CAACE,WAAN,CAAkB,CAAlB,CAA1B;QACA,OAAOS,IAAI,CAACE,OAAD,CAAX;QACA,OAAOD,MAAM,CAACnB,MAAP,CAAcoB,OAAd,CAAP;MACD,CAJD;IAKD;EAVA,CA3C6C,EAsD7C;IACDhB,GAAG,EAAE,iBADJ;IAEDjB,KAAK,EAAE,SAASkC,eAAT,CAAyBC,MAAzB,EAAiCJ,IAAjC,EAAuC;MAC5C,IAAIK,MAAM,GAAG,IAAb;;MAEA,IAAI,KAAKrB,gBAAL,CAAsBsB,MAA1B,EAAkC,KAAKP,iBAAL,CAAuBC,IAAvB;MAClCI,MAAM,CAACV,OAAP,CAAe,UAAUL,KAAV,EAAiB;QAC9B,IAAIa,OAAO,GAAGb,KAAK,CAACI,EAAN,IAAYJ,KAAK,CAACE,WAAN,CAAkB,CAAlB,CAA1B;;QAEA,IAAIW,OAAO,IAAI,CAACF,IAAI,CAACE,OAAD,CAApB,EAA+B;UAC7BF,IAAI,CAACE,OAAD,CAAJ,GAAgB,CAAC,GAAG9B,CAAC,CAACmC,OAAN,EAAelB,KAAf,EAAsB,IAAtB,EAA4B,IAA5B,EAAkCgB,MAAM,CAAC7B,IAAzC,CAAhB;UACA6B,MAAM,CAACvB,MAAP,CAAcoB,OAAd,IAAyB,CAAC,GAAG9B,CAAC,CAACyB,gBAAN,EAAwBR,KAAxB,EAA+B,IAA/B,EAAqC,IAArC,EAA2CgB,MAAM,CAAC7B,IAAlD,CAAzB;QACD;MACF,CAPD;MAQA,KAAKQ,gBAAL,GAAwBoB,MAAxB;MACA,KAAKvB,KAAL,GAAa,EAAb;IACD;EAhBA,CAtD6C,EAuE7C;IACDK,GAAG,EAAE,QADJ;IAEDjB,KAAK,EAAE,SAASuC,MAAT,CAAgBvC,KAAhB,EAAuB;MAC5B,IAAIwC,MAAM,GAAG,IAAb;;MAEA,IAAIC,IAAI,GAAGC,SAAS,CAACL,MAAV,GAAmB,CAAnB,IAAwBK,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;MAAA,IACIE,kBAAkB,GAAGH,IAAI,CAACG,kBAD9B;MAAA,IAEIC,UAAU,GAAGJ,IAAI,CAACI,UAFtB;MAAA,IAGIC,OAAO,GAAGL,IAAI,CAACK,OAHnB;MAAA,IAIIC,OAAO,GAAGN,IAAI,CAACM,OAJnB;MAAA,IAKIC,WAAW,GAAGP,IAAI,CAACN,MALvB;MAAA,IAMIA,MAAM,GAAGa,WAAW,KAAK,KAAK,CAArB,GAAyB,EAAzB,GAA8BA,WAN3C;;MAQA,IAAI,KAAKjC,gBAAL,IAAyBoB,MAA7B,EAAqC,KAAKD,eAAL,CAAqBC,MAArB,EAA6B,KAAKxB,YAAlC;MACrC,IAAIgB,QAAQ,GAAGtB,MAAM,CAAC,SAAD,CAAN,CAAkB4C,GAAlB,CAAsB,MAAtB,KAAiC,CAAhD;MACAJ,UAAU,KAAKA,UAAU,GAAG,EAAlB,CAAV;MACAC,OAAO,KAAKA,OAAO,GAAG,EAAf,CAAP;MACAC,OAAO,KAAKA,OAAO,GAAG,EAAf,CAAP;MACA,IAAIG,OAAO,GAAG,IAAd;MAAA,IACInB,IAAI,GAAG,KAAKpB,YADhB;;MAGA,IAAIX,KAAK,CAACqC,MAAV,EAAkB;QAChB,IAAIrC,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,IAA7B,EAAmC;UACjC,OAAO,CAAC,KAAKa,MAAL,CAAY,IAAZ,EAAkBc,QAAlB,CAAD,CAAP;QACD;;QAED,IAAIwB,MAAM,GAAGnD,KAAK,CAACoD,WAAN,GAAoBC,KAApB,CAA0B,cAA1B,CAAb;QAAA,IACIC,UAAU,GAAG,EADjB;;QAGA,IAAIH,MAAM,CAACd,MAAP,GAAgB,CAApB,EAAuB;UACrBc,MAAM,GAAG,CAACA,MAAM,CAAC,CAAD,CAAP,EAAYA,MAAM,CAAC,CAAD,CAAlB,CAAT;QACD;;QAED,IAAIL,OAAO,CAACT,MAAR,IAAkBU,OAAO,CAACV,MAA9B,EAAsC;UACpCN,IAAI,GAAG,EAAP;UACA,KAAKxB,IAAL,CAAUgD,UAAV,CAAqB9B,OAArB,CAA6B,UAAU+B,QAAV,EAAoB;YAC/C,IAAIC,UAAU,GAAGX,OAAO,IAAIA,OAAO,CAACT,MAAnB,GAA4BS,OAAO,CAACY,OAAR,CAAgBF,QAAQ,CAAChC,EAAzB,IAA+B,CAAC,CAA5D,GAAgE,IAAjF;YACA,IAAImC,UAAU,GAAGZ,OAAO,IAAIA,OAAO,CAACV,MAAnB,GAA4BU,OAAO,CAACW,OAAR,CAAgBF,QAAQ,CAAChC,EAAzB,IAA+B,CAAC,CAA5D,GAAgE,KAAjF;;YAEA,IAAI,CAACiC,UAAD,IAAeE,UAAnB,EAA+B;cAC7B;YACD;;YAEDH,QAAQ,CAAC3C,MAAT,CAAgBY,OAAhB,CAAwB,UAAUQ,OAAV,EAAmB;cACzC,OAAOF,IAAI,CAACE,OAAD,CAAJ,GAAgBO,MAAM,CAACjC,IAAP,CAAYM,MAAZ,CAAmBoB,OAAnB,CAAvB;YACD,CAFD;UAGD,CAXD;;UAaA,IAAIE,MAAM,CAACE,MAAX,EAAmB;YACjB,IAAIuB,gBAAgB,GAAGd,OAAO,IAAIA,OAAO,CAACT,MAAnB,GAA4BS,OAAO,CAACY,OAAR,CAAgB,QAAhB,IAA4B,CAAC,CAAzD,GAA6D,IAApF;YACA,IAAIG,gBAAgB,GAAGd,OAAO,IAAIA,OAAO,CAACV,MAAnB,GAA4BU,OAAO,CAACW,OAAR,CAAgB,QAAhB,IAA4B,CAAC,CAAzD,GAA6D,KAApF;;YAEA,IAAIE,gBAAgB,IAAI,CAACC,gBAAzB,EAA2C;cACzC,KAAK3B,eAAL,CAAqBC,MAArB,EAA6BJ,IAA7B;YACD;UACF;QACF;;QAEDuB,UAAU,GAAGH,MAAM,CAACW,GAAP,CAAW,UAAU9D,KAAV,EAAiB;UACvC,IAAI+D,KAAK,GAAGhC,IAAZ;UAAA,IACIiC,MAAM,GAAGxB,MAAM,CAAC5B,KADpB;UAAA,IAEIyB,MAAM,GAAG,CAFb;;UAIA,KAAK,IAAI4B,SAAS,GAAG,CAArB,EAAwBA,SAAS,GAAGjE,KAAK,CAACqC,MAA1C,EAAkD4B,SAAS,EAA3D,EAA+D;YAC7D,IAAIC,KAAK,GAAGlE,KAAK,CAACiE,SAAD,CAAjB;YACA5B,MAAM;YACN2B,MAAM,CAACE,KAAD,CAAN,KAAkBF,MAAM,CAACE,KAAD,CAAN,GAAgB,EAAlC;YACAF,MAAM,GAAGA,MAAM,CAACE,KAAD,CAAf;;YAEA,IAAI,CAACF,MAAM,CAACd,OAAZ,EAAqB;cACnB,CAAC,YAAY;gBACX,IAAIiB,MAAM,GAAG,EAAb;gBACAH,MAAM,CAACd,OAAP,GAAiB,EAAjB;gBACAc,MAAM,CAACjC,IAAP,GAAc,EAAd;;gBAEA,KAAK,IAAIP,EAAT,IAAeuC,KAAf,EAAsB;kBACpB,IAAI3C,KAAK,GAAG2C,KAAK,CAACvC,EAAD,CAAjB;kBAAA,IACIe,MAAM,GAAGnB,KAAK,CAACmB,MADnB;kBAAA,IAEI6B,GAAG,GAAGpE,KAAK,CAACqE,MAAN,CAAa,CAAb,EAAgBhC,MAAhB,CAFV;kBAAA,IAGIiC,QAAQ,GAAG/B,MAAM,CAACmB,OAAP,CAAeU,GAAf,CAHf;;kBAKA,IAAIE,QAAQ,IAAI,CAAC,CAAjB,EAAoB;oBAClB,IAAIC,KAAK,GAAGD,QAAQ,GAAG,CAAvB;oBACA,IAAIF,GAAG,IAAI5C,EAAX,EAAe+C,KAAK,GAAG,CAAR;;oBAEf,IAAI/B,MAAM,CAAC3B,MAAP,CAAcW,EAAd,KAAqBgB,MAAM,CAAC3B,MAAP,CAAcW,EAAd,EAAkBG,QAAlB,CAAzB,EAAsD;sBACpDqC,MAAM,CAACd,OAAP,CAAesB,IAAf,CAAoBhC,MAAM,CAAC3B,MAAP,CAAcW,EAAd,EAAkBG,QAAlB,CAApB;oBACD,CAFD,MAEO;sBACLqC,MAAM,CAACd,OAAP,CAAesB,IAAf,CAAoBhC,MAAM,CAAC3B,MAAP,CAAcW,EAAd,CAApB;oBACD;;oBAEDwC,MAAM,CAACjC,IAAP,CAAYP,EAAZ,IAAkBJ,KAAlB;oBACA+C,MAAM,CAAC3C,EAAD,CAAN,GAAa+C,KAAb;kBACD;gBACF;;gBAEDP,MAAM,CAACd,OAAP,CAAeuB,IAAf,CAAoB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;kBAClC,IAAIC,MAAM,GAAGT,MAAM,CAACO,CAAC,CAAClD,EAAH,CAAnB;kBAAA,IACIqD,MAAM,GAAGV,MAAM,CAACQ,CAAC,CAACnD,EAAH,CADnB;;kBAGA,IAAIoD,MAAM,IAAIC,MAAd,EAAsB;oBACpB,OAAOH,CAAC,CAAClD,EAAF,CAAKsD,aAAL,CAAmBH,CAAC,CAACnD,EAArB,CAAP;kBACD,CAFD,MAEO;oBACL,OAAOoD,MAAM,GAAGC,MAAhB;kBACD;gBACF,CATD;cAUD,CApCD;YAqCD;;YAEDd,KAAK,GAAGC,MAAM,CAACjC,IAAf;UACD;;UAED,OAAOiC,MAAM,CAACd,OAAd;QACD,CAvDY,EAuDV6B,MAvDU,CAuDH,UAAUL,CAAV,EAAa;UACrB,OAAOA,CAAP;QACD,CAzDY,CAAb;;QA2DA,IAAIpB,UAAU,CAACjB,MAAX,GAAoB,CAAxB,EAA2B;UACzBa,OAAO,GAAG/C,CAAC,CAAC6E,SAAF,CAAYC,KAAZ,CAAkB,IAAlB,EAAwB3B,UAAxB,CAAV;QACD,CAFD,MAEO,IAAIA,UAAU,CAACjB,MAAf,EAAuB;UAC5Ba,OAAO,GAAGI,UAAU,CAAC,CAAD,CAApB;QACD,CAFM,MAEA;UACLJ,OAAO,GAAG,EAAV;QACD;MACF;;MAED,IAAIA,OAAJ,EAAa;QACX,IAAIN,kBAAJ,EAAwB;UACtBM,OAAO,GAAGA,OAAO,CAAC6B,MAAR,CAAe,UAAUG,MAAV,EAAkB;YACzC,OAAOtC,kBAAkB,CAACb,IAAI,CAACmD,MAAM,CAAC1D,EAAR,CAAL,CAAzB;UACD,CAFS,CAAV;QAGD;;QAED,IAAI0B,OAAO,IAAIA,OAAO,CAACb,MAAR,GAAiBQ,UAAhC,EAA4C;UAC1CK,OAAO,GAAGA,OAAO,CAACiC,KAAR,CAAc,CAAd,EAAiBtC,UAAjB,CAAV;QACD;MACF;;MAED,OAAOK,OAAP;IACD;EA3IA,CAvE6C,CAAhD;EAoNA,OAAO5C,gBAAP;AACD,CAvOD,EAFA;;AA2OAP,OAAO,CAAC,SAAD,CAAP,GAAqBO,gBAArB"},"metadata":{},"sourceType":"script"}